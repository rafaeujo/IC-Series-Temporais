<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt" xml:lang="pt"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Rafael Jordane">

<title>Relatório de progresso</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Relatório parcial_files/libs/clipboard/clipboard.min.js"></script>
<script src="Relatório parcial_files/libs/quarto-html/quarto.js"></script>
<script src="Relatório parcial_files/libs/quarto-html/popper.min.js"></script>
<script src="Relatório parcial_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Relatório parcial_files/libs/quarto-html/anchor.min.js"></script>
<link href="Relatório parcial_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Relatório parcial_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Relatório parcial_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Relatório parcial_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Relatório parcial_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent">

<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Relatório de progresso</h1>
            <p class="subtitle lead">Iniciação Científica</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Autor</div>
      <div class="quarto-title-meta-contents">
               <p>Rafael Jordane </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Data de Publicação</div>
      <div class="quarto-title-meta-contents">
        <p class="date">29/09/2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content quarto-banner-title-block" id="quarto-document-content">





<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
</div>
<section id="breve-introdução" class="level2">
<h2 class="anchored" data-anchor-id="breve-introdução">Breve introdução</h2>
<p>Ao iniciarmos as produções da pesquisa, foi feita uma introdução ao estudo de séries temporais e aos modelos de ajuste ARIMA. A intenção do trabalho realizado é pesquisar, testar e comparar diferentes metodologias para a imputação de dados faltantes em séries temporais. A ideia é que, ao encontrarmos o método mais eficiênte, esse método possa ser aplicado em um modelo de séries temporais que relaciona dados de poluição atmosférica no município de VItória/ES e mortes por doenças respiratórias agudas, também no município. Com melhor ajuste e refinamento da série, é possível que a relação entre a poluição do ar e as mortes fiquem ainda mais evidentes, possibilitando que órgãos publicos e a população como um todo tenho mais conhecimento do impacto dessa poluição, e possam posteriormente desenvolver medidas mais diretas para a mitigação de tais danos.</p>
</section>
<section id="os-ajustes" class="level2">
<h2 class="anchored" data-anchor-id="os-ajustes">Os Ajustes</h2>
<p>As séries temporais foram geradas aleatoriamente à partir do modelo de ajuste ARIMA (<em>autoregressive integrated moving average</em>ados), seguindo os seguintes ajustes: AR(1) <span class="math inline">\((\phi=0,4)\)</span>, AR(1)<span class="math inline">\((\phi=0,6)\)</span>, AR(2) <span class="math inline">\((\phi_1=0.2, \phi_2=0,4)\)</span>, AR(2) <span class="math inline">\((\phi_1=0.4, \phi_2=0,5)\)</span> e ARMA(1,1) <span class="math inline">\((\phi=0.2, \theta=0,4)\)</span>.</p>
<p>Depois de geradas, as mesmas series foram replicadas para os diferentes métodos de imputação dos dados faltantes.</p>
</section>
<section id="imputações-com-base-em-observações-próximas" class="level2">
<h2 class="anchored" data-anchor-id="imputações-com-base-em-observações-próximas">Imputações com base em observações próximas</h2>
<p>(Explicação)<br>
Para os modelos LOCF (Last Observation Carried Forward) e NOCB (Next Observation Carried Backward), após a imputação inicial, foi realizada uma imputação adicional utilizando a média da série para preencher os dados faltantes remanescentes. Essa etapa foi necessária devido à possibilidade de ausência de dados nas primeiras ou últimas observações da série, que não são contempladas pelos métodos LOCF e NOCB.</p>
</section>
<section id="interpolação" class="level2">
<h2 class="anchored" data-anchor-id="interpolação">Interpolação</h2>
<p>Explicação breve (vou precisar de ajuda)</p>
</section>
<section id="resultados" class="level2">
<h2 class="anchored" data-anchor-id="resultados">Resultados</h2>
<p>A forma para a medição do impacto do método de imputação dos dados faltantes <strong>(citar método utilizado)</strong> em cada ajuste foi a geração de séries duplicadas. Após remoção aleatória de dados em diferentes porcentagens, sendo elas 5%, 10%, 20% e 40% essas lacunas foram preenchidas com algum método de imputação de dados, e depois disso, foi calculado a raiz do erro quadrático médio (RMSE) entre essa série que passou por modificação e a série que se mateve original. Os resultados foram registrados em tabelas para cada método de imputação e para dois tamanhos de amostra, 100 observações e 1000 observações. Esses resultados, que se encontram à seguir, foram separados em subceções para cada tamanho de amostra. Dessa forma, podemos comparar o efeito de cada método de imputação de dados para amostras de cada tamanho separadamente, analisando o impacto em relação a quantidade de dados faltantes gerados e o ajuste da série.</p>
<section id="amostras-de-100-observações" class="level3">
<h3 class="anchored" data-anchor-id="amostras-de-100-observações">Amostras de 100 observações:</h3>
<p>Nessa subseção se encontram os resultados obtidos através do processo de imputação de dados faltantes à partir de diferentes métodos em modelos de séries temporais, de diferentes ajustes, todos com uma amostra de 100 observações.</p>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>cemmedia <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Planilhas/cemedia.csv"</span>) </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>ajustetabela <span class="ot">&lt;-</span> <span class="cf">function</span>(data, col1, col2, col3, col4, col5) {</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  col1 <span class="ot">&lt;-</span> <span class="fu">enquo</span>(col1)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  col2 <span class="ot">&lt;-</span> <span class="fu">enquo</span>(col2)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  col3 <span class="ot">&lt;-</span> <span class="fu">enquo</span>(col3)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  col4 <span class="ot">&lt;-</span> <span class="fu">enquo</span>(col4)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  col5 <span class="ot">&lt;-</span> <span class="fu">enquo</span>(col5)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  guarapan <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">AR_0.4 =</span> <span class="sc">!!</span>col1,</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">AR_0.6 =</span> <span class="sc">!!</span>col2,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">AR_0.2_0.4 =</span> <span class="sc">!!</span>col3,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">AR_0.4_0.5 =</span> <span class="sc">!!</span>col4,</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">ARMA_0.4_0.2 =</span> <span class="sc">!!</span>col5</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">X =</span> <span class="cn">NULL</span>)  <span class="co"># Remove a coluna X</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">kable</span>(guarapan))</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="fu">ajustetabela</span>(cemmedia,<span class="st">"AR.Rmse.04"</span>,<span class="st">"AR.Rmse.06"</span>,<span class="st">"AR.Rmse.0204"</span>,<span class="st">"AR.Rmse.0405"</span>,<span class="st">"ARMA.Rmse.0402"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 17%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Porcentagem</th>
<th style="text-align: right;">AR_0.4</th>
<th style="text-align: right;">AR_0.6</th>
<th style="text-align: right;">AR_0.2_0.4</th>
<th style="text-align: right;">AR_0.4_0.5</th>
<th style="text-align: right;">ARMA_0.4_0.2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.3892315</td>
<td style="text-align: right;">0.3148000</td>
<td style="text-align: right;">0.2144880</td>
<td style="text-align: right;">0.1182557</td>
<td style="text-align: right;">0.2564963</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.4468177</td>
<td style="text-align: right;">0.3444869</td>
<td style="text-align: right;">0.3684174</td>
<td style="text-align: right;">0.4033684</td>
<td style="text-align: right;">0.3813407</td>
</tr>
<tr class="odd">
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.5851220</td>
<td style="text-align: right;">0.4943355</td>
<td style="text-align: right;">0.5647307</td>
<td style="text-align: right;">0.6563425</td>
<td style="text-align: right;">0.4924350</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.6918194</td>
<td style="text-align: right;">0.7612301</td>
<td style="text-align: right;">0.7140997</td>
<td style="text-align: right;">0.9830260</td>
<td style="text-align: right;">0.8438136</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr>
<section id="tabela-1-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-pela-média-n100." class="level5">
<h5 class="anchored" data-anchor-id="tabela-1-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-pela-média-n100."><strong>Tabela 1:</strong> Resultados dos cálculos do RMSE com dados faltantes foram substituidos pela média (n=100).</h5>
<p>A Tabela 1 revela que, à medida que o percentual de dados faltantes nas séries ajustadas aumenta, o valor do RMSE também tende a crescer. Isso indica que o método de imputação resulta em séries cada vez mais distantes da série original à medida que o número de dados ausentes aumenta.</p>
<p>Por outro lado, o impacto do aumento da complexidade do ajuste não segue um padrão tão claro. Embora o RMSE tenha aumentado em algumas situações e diminuído em outras, é possível notar uma leve tendência de aumento nos valores do RMSE em todas as porcentagens à medida que os modelos ajustados de séries temporais se tornam mais complexos. Essa variação sugere que a complexidade do modelo pode influenciar a precisão das previsões, mas não de maneira uniforme.</p>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>cemmediana <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Planilhas/cemmediana.csv"</span>) </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ajustetabela</span>(cemmediana,<span class="st">"AR.Rmse.04.med.100"</span>,<span class="st">"AR.Rmse.06.med.100"</span>,<span class="st">"AR.Rmse.0204.med.100"</span>,<span class="st">"AR.Rmse.0405.med.100"</span>,<span class="st">"ARMA.Rmse.0402.med.100"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 17%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Porcentagem</th>
<th style="text-align: right;">AR_0.4</th>
<th style="text-align: right;">AR_0.6</th>
<th style="text-align: right;">AR_0.2_0.4</th>
<th style="text-align: right;">AR_0.4_0.5</th>
<th style="text-align: right;">ARMA_0.4_0.2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.1804544</td>
<td style="text-align: right;">0.3164807</td>
<td style="text-align: right;">0.2147843</td>
<td style="text-align: right;">0.1137387</td>
<td style="text-align: right;">0.2444201</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.1979142</td>
<td style="text-align: right;">0.3498192</td>
<td style="text-align: right;">0.3683235</td>
<td style="text-align: right;">0.4034666</td>
<td style="text-align: right;">0.3811761</td>
</tr>
<tr class="odd">
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.4049888</td>
<td style="text-align: right;">0.5031434</td>
<td style="text-align: right;">0.5647040</td>
<td style="text-align: right;">0.6577882</td>
<td style="text-align: right;">0.4927660</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.6466893</td>
<td style="text-align: right;">0.7632819</td>
<td style="text-align: right;">0.7210497</td>
<td style="text-align: right;">0.9913392</td>
<td style="text-align: right;">0.8409461</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="tabela-2-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-pela-mediana-n100." class="level5">
<h5 class="anchored" data-anchor-id="tabela-2-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-pela-mediana-n100."><strong>Tabela 2:</strong> Resultados dos cálculos do RMSE com dados faltantes foram substituidos pela mediana (n=100).</h5>
<p>A Tabela 2, assim como observado anteriormente na Tabela 1, demonstra que, à medida que o percentual de dados faltantes nas séries ajustadas aumenta, o valor do RMSE tende a crescer. Isso evidencia que o método de imputação gera séries progressivamente mais distantes da série original à medida que a quantidade de dados ausentes se eleva.</p>
<p>Por outro lado, o impacto do aumento na complexidade do ajuste não apresenta um padrão bem definido. Embora em algumas situações o RMSE tenha aumentado e, em outras, diminuído, percebe-se uma leve tendência de crescimento nos valores de RMSE em todas as porcentagens à medida que os modelos ajustados de séries temporais se tornam mais complexos. Essa oscilação sugere que a complexidade do modelo pode afetar a precisão das previsões, mas de maneira não uniforme.</p>
<p>Não foi observada uma mudança clara nos resultados que indique influência da substituição do método de imputação de dados da média para a mediana.</p>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>cemdown <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Planilhas/cemdown.csv"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ajustetabela</span>(cemdown,<span class="st">"AR.Rmse.04"</span>,<span class="st">"AR.Rmse.06"</span>,<span class="st">"AR.Rmse.0204"</span>,<span class="st">"AR.Rmse.0405"</span>,<span class="st">"ARMA.Rmse.0402"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 17%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Porcentagem</th>
<th style="text-align: right;">AR_0.4</th>
<th style="text-align: right;">AR_0.6</th>
<th style="text-align: right;">AR_0.2_0.4</th>
<th style="text-align: right;">AR_0.4_0.5</th>
<th style="text-align: right;">ARMA_0.4_0.2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.2811430</td>
<td style="text-align: right;">0.3922194</td>
<td style="text-align: right;">0.1801501</td>
<td style="text-align: right;">0.1923050</td>
<td style="text-align: right;">0.3409044</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.3189514</td>
<td style="text-align: right;">0.4801306</td>
<td style="text-align: right;">0.1981648</td>
<td style="text-align: right;">0.4239092</td>
<td style="text-align: right;">0.3932324</td>
</tr>
<tr class="odd">
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.5615312</td>
<td style="text-align: right;">0.6840932</td>
<td style="text-align: right;">0.4562173</td>
<td style="text-align: right;">0.7876901</td>
<td style="text-align: right;">0.5994673</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.7089940</td>
<td style="text-align: right;">0.8710560</td>
<td style="text-align: right;">0.7441356</td>
<td style="text-align: right;">1.0883977</td>
<td style="text-align: right;">0.8507686</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr>
</section>
<section id="tabela-3-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-atravéz-do-método-locf-n-100" class="level5">
<h5 class="anchored" data-anchor-id="tabela-3-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-atravéz-do-método-locf-n-100"><strong>Tabela 3:</strong> Resultados dos cálculos do RMSE com dados faltantes foram substituidos atravéz do método LOCF (n = 100)</h5>
<p>Na Tabela 3, foi identificado o mesmo padrão de aumento da distância entre as séries com imputações e as séries originais à medida que a porcentagem de dados faltantes aumentava. Observou-se um comportamento semelhante ao dos demais métodos de imputação em relação ao aumento da complexidade dos ajustes. No entanto, destaca-se que, no ajuste AR(2) <span class="math inline">\((\phi_1=0.2, \phi_2=0.4)\)</span>, o método LOCF apresentou desempenho significativamente melhor em comparação com os outros ajustes.</p>
<p>Em relação à imputação pela média e pela mediana, o método LOCF resultou em um aumento do RMSE na maioria das combinações de porcentagens de dados faltantes e ajustes. A única exceção foi no ajuste AR(2) <span class="math inline">\((\phi_1=0.2, \phi_2=0.4)\)</span>, onde o LOCF teve desempenho superior em todas as porcentagens de dados faltantes, exceto em 40%, onde o RMSE foi semelhante ao dos demais métodos. Além disso, observou-se que, com o LOCF, os valores do RMSE tendiam a crescer de forma mais acentuada conforme aumentavam as porcentagens de dados faltantes.</p>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>cemup <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Planilhas/cemup.csv"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ajustetabela</span>(cemdown,<span class="st">"AR.Rmse.04"</span>,<span class="st">"AR.Rmse.06"</span>,<span class="st">"AR.Rmse.0204"</span>,<span class="st">"AR.Rmse.0405"</span>,<span class="st">"ARMA.Rmse.0402"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 17%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Porcentagem</th>
<th style="text-align: right;">AR_0.4</th>
<th style="text-align: right;">AR_0.6</th>
<th style="text-align: right;">AR_0.2_0.4</th>
<th style="text-align: right;">AR_0.4_0.5</th>
<th style="text-align: right;">ARMA_0.4_0.2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.2811430</td>
<td style="text-align: right;">0.3922194</td>
<td style="text-align: right;">0.1801501</td>
<td style="text-align: right;">0.1923050</td>
<td style="text-align: right;">0.3409044</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.3189514</td>
<td style="text-align: right;">0.4801306</td>
<td style="text-align: right;">0.1981648</td>
<td style="text-align: right;">0.4239092</td>
<td style="text-align: right;">0.3932324</td>
</tr>
<tr class="odd">
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.5615312</td>
<td style="text-align: right;">0.6840932</td>
<td style="text-align: right;">0.4562173</td>
<td style="text-align: right;">0.7876901</td>
<td style="text-align: right;">0.5994673</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.7089940</td>
<td style="text-align: right;">0.8710560</td>
<td style="text-align: right;">0.7441356</td>
<td style="text-align: right;">1.0883977</td>
<td style="text-align: right;">0.8507686</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr>
</section>
<section id="tabela-4-resultados-dos-cálculos-do-rmse-com-dados-faltantes-substituidos-atravéz-do-método-nocb-n-100" class="level5">
<h5 class="anchored" data-anchor-id="tabela-4-resultados-dos-cálculos-do-rmse-com-dados-faltantes-substituidos-atravéz-do-método-nocb-n-100"><strong>Tabela 4:</strong> Resultados dos cálculos do RMSE com dados faltantes substituidos atravéz do método NOCB (n = 100)</h5>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>difference_dataframes <span class="ot">&lt;-</span> <span class="cf">function</span>(df1, df2) {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Verifica se os dataframes têm as mesmas dimensões</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">all</span>(<span class="fu">dim</span>(df1) <span class="sc">==</span> <span class="fu">dim</span>(df2))) {</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Os dataframes devem ter as mesmas dimensões."</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Verifica se ambos são dataframes</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.data.frame</span>(df1) <span class="sc">||</span> <span class="sc">!</span><span class="fu">is.data.frame</span>(df2)) {</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Ambos os inputs devem ser dataframes."</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Retorna um dataframe com a diferença df1 - df2</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">mapply</span>(<span class="cf">function</span>(col1, col2) {</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    col1 <span class="sc">-</span> col2</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  }, df1, df2))</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(result) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(df1) <span class="co"># Mantém os nomes das colunas</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames</span>(result) <span class="ot">&lt;-</span> <span class="fu">rownames</span>(df1) <span class="co"># Mantém os nomes das linhas</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> result <span class="sc">%&gt;%</span> </span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>Porcentagem)</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ajustetabela</span>(result,<span class="st">"AR.Rmse.04"</span>,<span class="st">"AR.Rmse.06"</span>,<span class="st">"AR.Rmse.0204"</span>,<span class="st">"AR.Rmse.0405"</span>,<span class="st">"ARMA.Rmse.0402"</span>)</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">kable</span>(result))</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Na Tabela 4 são apresentados os valores do RMSE obtidos com a substituição dos dados faltantes pelo método NOCB. O comportamento em relação ao aumento da porcentagem de dados faltantes segue o padrão observado em outros métodos de imputação. No entanto, em relação à complexidade dos modelos, o NOCB gerou resultados distintos.</p>
<p>Comparando com os métodos de imputação pela média e mediana, houve uma redução do RMSE nos testes com 40% de dados faltantes na maioria das porcentagens, exceto no modelo ARMA (1,1)<span class="math inline">\((\phi=0.2, \theta=0.4)\)</span>, onde os resultados foram praticamente iguais. Em relação ao método LOCF, os resultados para variaram entre rasoavelmente melhores, rasoavelmente piores e semelhantes. No geral, não é possível afirmar que o método NOCB se destaca como superior aos demais métodos de imputação.</p>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>ceminter <span class="ot">&lt;-</span>  <span class="fu">read.csv</span>(<span class="st">"Planilhas/intcem.csv"</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ajustetabela</span>(ceminter,<span class="st">"AR.Rmse.04"</span>,<span class="st">"AR.Rmse.06"</span>,<span class="st">"AR.Rmse.0204"</span>,<span class="st">"AR.Rmse.0405"</span>,<span class="st">"ARMA.Rmse.0402"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 17%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Porcentagem</th>
<th style="text-align: right;">AR_0.4</th>
<th style="text-align: right;">AR_0.6</th>
<th style="text-align: right;">AR_0.2_0.4</th>
<th style="text-align: right;">AR_0.4_0.5</th>
<th style="text-align: right;">ARMA_0.4_0.2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.3387105</td>
<td style="text-align: right;">0.2130691</td>
<td style="text-align: right;">0.2876818</td>
<td style="text-align: right;">0.1881545</td>
<td style="text-align: right;">0.1185403</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.3665967</td>
<td style="text-align: right;">0.3135915</td>
<td style="text-align: right;">0.2649126</td>
<td style="text-align: right;">0.3714423</td>
<td style="text-align: right;">0.4110724</td>
</tr>
<tr class="odd">
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.6342673</td>
<td style="text-align: right;">0.6562248</td>
<td style="text-align: right;">0.5024862</td>
<td style="text-align: right;">0.5985662</td>
<td style="text-align: right;">0.7142722</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.7497217</td>
<td style="text-align: right;">0.9526146</td>
<td style="text-align: right;">1.0898719</td>
<td style="text-align: right;">1.5165599</td>
<td style="text-align: right;">0.8538800</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr>
</section>
<section id="tabela-5-resultados-dos-cálculos-do-rmse-com-dados-faltantes-substituidos-atravéz-do-método-de-interpolação-cúbica-slice" class="level5">
<h5 class="anchored" data-anchor-id="tabela-5-resultados-dos-cálculos-do-rmse-com-dados-faltantes-substituidos-atravéz-do-método-de-interpolação-cúbica-slice"><strong>Tabela 5:</strong> Resultados dos cálculos do RMSE com dados faltantes substituidos atravéz do método de Interpolação Cúbica (slice)</h5>
<p>A Tabela 5 revela que o padrão de crescimento do RMSE acompanha o aumento da complexidade dos modelos e da porcentagem de dados faltantes, mantendo uma tendência semelhante aos demais métodos de imputação. No caso da Interpolação, os maiores valores de RMSE foram registrados nas proporções mais altas de dados ausentes (20% e 40%), sugerindo uma redução na confiabilidade do método quando há uma quantidade excessiva de valores faltantes. Em contrapartida, nas porcentagens menores (5% e 10%), observou-se maior estabilidade nos RMSE, com desempenho ocasionalmente superior ao de outros métodos, embora sem um padrão consistente.</p>
<p>De maneira geral, a aplicação da Interpolação Cúbica não demonstrou melhorias significativas nos valores de RMSE em comparação com as outras abordagens de imputação analisadas para <span class="math inline">\(n=100\)</span>.</p>
</section>
</section>
<section id="amostras-de-1000-observações" class="level3">
<h3 class="anchored" data-anchor-id="amostras-de-1000-observações">Amostras de 1000 observações:</h3>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>milmedia <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Planilhas/milmedia.csv"</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ajustetabela</span>(milmedia,<span class="st">"AR.Rmse.04"</span>,<span class="st">"AR.Rmse.06"</span>,<span class="st">"AR.Rmse.0204"</span>,<span class="st">"AR.Rmse.0405"</span>,<span class="st">"ARMA.Rmse.0402"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 17%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Porcentagem</th>
<th style="text-align: right;">AR_0.4</th>
<th style="text-align: right;">AR_0.6</th>
<th style="text-align: right;">AR_0.2_0.4</th>
<th style="text-align: right;">AR_0.4_0.5</th>
<th style="text-align: right;">ARMA_0.4_0.2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.2357325</td>
<td style="text-align: right;">0.2518541</td>
<td style="text-align: right;">0.2570215</td>
<td style="text-align: right;">0.4021781</td>
<td style="text-align: right;">0.3428851</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.3449642</td>
<td style="text-align: right;">0.3665185</td>
<td style="text-align: right;">0.3797436</td>
<td style="text-align: right;">0.5752837</td>
<td style="text-align: right;">0.4279775</td>
</tr>
<tr class="odd">
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.4934541</td>
<td style="text-align: right;">0.4960622</td>
<td style="text-align: right;">0.5387605</td>
<td style="text-align: right;">0.8067815</td>
<td style="text-align: right;">0.5667309</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.6981557</td>
<td style="text-align: right;">0.7561148</td>
<td style="text-align: right;">0.7177946</td>
<td style="text-align: right;">1.2912187</td>
<td style="text-align: right;">0.7537121</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr>
<section id="tabela-6-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-pela-média-n1000." class="level5">
<h5 class="anchored" data-anchor-id="tabela-6-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-pela-média-n1000."><strong>Tabela 6:</strong> Resultados dos cálculos do RMSE com dados faltantes foram substituidos pela média (n=1000).</h5>
<p>A Tabela 6 mostra que, com o aumento do percentual de dados faltantes nas séries ajustadas, os valores da raiz do erro quadrático médio (RMSE) também se elevam. Esse comportamento sugere que o método de imputação gera séries progressivamente mais distantes da série original à medida que cresce a quantidade de dados ausentes.</p>
<p>Diferentemente dos resultados obtidos na imputação pela média com 100 observações, nesta análise o aumento da complexidade do ajuste ocasiona valores mais divergentes. Destaca-se que, no modelo mais elaborado (AR(2) com <span class="math inline">\(\phi=0.4\)</span> e <span class="math inline">\(\phi=0.5\)</span>), houve um crescimento expressivo no RMSE em relação aos demais modelos em todas as porcentagens avaliadas. Esse padrão sugere que a complexidade do modelo pode influenciar negativamente a precisão das previsões.</p>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>milmediana <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Planilhas/milmediana.csv"</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ajustetabela</span>(milmediana,<span class="st">"AR.Rmse.04.med"</span>,<span class="st">"AR.Rmse.06.med"</span>,<span class="st">"AR.Rmse.0204.med"</span>,<span class="st">"AR.Rmse.0405.med"</span>,<span class="st">"ARMA.Rmse.0402.med"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 17%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Porcentagem</th>
<th style="text-align: right;">AR_0.4</th>
<th style="text-align: right;">AR_0.6</th>
<th style="text-align: right;">AR_0.2_0.4</th>
<th style="text-align: right;">AR_0.4_0.5</th>
<th style="text-align: right;">ARMA_0.4_0.2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.2351958</td>
<td style="text-align: right;">0.2514991</td>
<td style="text-align: right;">0.2551379</td>
<td style="text-align: right;">0.4030686</td>
<td style="text-align: right;">0.3428318</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.3450636</td>
<td style="text-align: right;">0.3688178</td>
<td style="text-align: right;">0.3784964</td>
<td style="text-align: right;">0.5708639</td>
<td style="text-align: right;">0.4279534</td>
</tr>
<tr class="odd">
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.4933475</td>
<td style="text-align: right;">0.4978918</td>
<td style="text-align: right;">0.5391817</td>
<td style="text-align: right;">0.8006419</td>
<td style="text-align: right;">0.5666016</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.6971285</td>
<td style="text-align: right;">0.7563042</td>
<td style="text-align: right;">0.7171511</td>
<td style="text-align: right;">1.2834627</td>
<td style="text-align: right;">0.7534568</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr>
</section>
<section id="tabela-7-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-pela-mediana-n1000" class="level5">
<h5 class="anchored" data-anchor-id="tabela-7-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-pela-mediana-n1000"><strong>Tabela 7:</strong> Resultados dos cálculos do RMSE com dados faltantes foram substituidos pela mediana (n=1000)</h5>
<p>Na Tabela 7 é possível observar novamente que não há diferença clara entre os métodos de imputação pela média e pela mediana. As considerações feitas à respeito da Tabela 56também são válidas para a Tabela 7.</p>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>mildown <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Planilhas/mildown.csv"</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ajustetabela</span>(mildown,<span class="st">"AR.Rmse.04"</span>,<span class="st">"AR.Rmse.06"</span>,<span class="st">"AR.Rmse.0204"</span>,<span class="st">"AR.Rmse.0405"</span>,<span class="st">"ARMA.Rmse.0402"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 17%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Porcentagem</th>
<th style="text-align: right;">AR_0.4</th>
<th style="text-align: right;">AR_0.6</th>
<th style="text-align: right;">AR_0.2_0.4</th>
<th style="text-align: right;">AR_0.4_0.5</th>
<th style="text-align: right;">ARMA_0.4_0.2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.2874326</td>
<td style="text-align: right;">0.2906962</td>
<td style="text-align: right;">0.2160859</td>
<td style="text-align: right;">0.3765961</td>
<td style="text-align: right;">0.2264049</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.4236037</td>
<td style="text-align: right;">0.4299546</td>
<td style="text-align: right;">0.3358650</td>
<td style="text-align: right;">0.4602698</td>
<td style="text-align: right;">0.4112478</td>
</tr>
<tr class="odd">
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.6006022</td>
<td style="text-align: right;">0.6048240</td>
<td style="text-align: right;">0.4751475</td>
<td style="text-align: right;">0.7056996</td>
<td style="text-align: right;">0.6160392</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.9239159</td>
<td style="text-align: right;">0.9284677</td>
<td style="text-align: right;">0.7727094</td>
<td style="text-align: right;">1.1556546</td>
<td style="text-align: right;">1.0360355</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr>
</section>
<section id="tabela-8-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-atravéz-do-método-locf-n-1000" class="level5">
<h5 class="anchored" data-anchor-id="tabela-8-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-atravéz-do-método-locf-n-1000"><strong>Tabela 8:</strong> Resultados dos cálculos do RMSE com dados faltantes foram substituidos atravéz do método LOCF (n = 1000)</h5>
<p>A Tabela 8 apresentou um padrão de comportamento do RMSE semelhante ao observado na comparação entre o método LOCF e as imputações por média e mediana com 100 observações. O aumento geral do RMSE, previamente identificado nas simulações com <span class="math inline">\(n=1000\)</span>, também foi constatado nesta análise.</p>
<p>Destaca-se uma redução significativa do RMSE no ajuste AR(2) (<span class="math inline">\(\phi_1=0.2, \phi_2=0.4\)</span>), em linha com o que já havia sido observado na simulação com <span class="math inline">\(n=100\)</span>. No entanto, nesta simulação, essa redução também foi registrada no ajuste AR(2) <span class="math inline">\((\phi_1=0.4,  \phi_2=0.5)\)</span>, que apresentou RMSE inferior ao das imputações por média e mediana em todas as porcentagens avaliadas. Apesar disso, este ajuste teve desempenho inferior aos demais da mesma simulação, refletindo o impacto negativo de seu alto grau de complexidade.</p>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>milup <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Planilhas/milup.csv"</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ajustetabela</span>(milup,<span class="st">"AR.Rmse.04"</span>,<span class="st">"AR.Rmse.06"</span>,<span class="st">"AR.Rmse.0204"</span>,<span class="st">"AR.Rmse.0405"</span>,<span class="st">"ARMA.Rmse.0402"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 17%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Porcentagem</th>
<th style="text-align: right;">AR_0.4</th>
<th style="text-align: right;">AR_0.6</th>
<th style="text-align: right;">AR_0.2_0.4</th>
<th style="text-align: right;">AR_0.4_0.5</th>
<th style="text-align: right;">ARMA_0.4_0.2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.2761077</td>
<td style="text-align: right;">0.2049902</td>
<td style="text-align: right;">0.2559661</td>
<td style="text-align: right;">0.2664016</td>
<td style="text-align: right;">0.2836093</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.3888442</td>
<td style="text-align: right;">0.3330139</td>
<td style="text-align: right;">0.3855374</td>
<td style="text-align: right;">0.3872747</td>
<td style="text-align: right;">0.4356191</td>
</tr>
<tr class="odd">
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.5867092</td>
<td style="text-align: right;">0.5400304</td>
<td style="text-align: right;">0.5359320</td>
<td style="text-align: right;">0.6513307</td>
<td style="text-align: right;">0.6138997</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.9128088</td>
<td style="text-align: right;">0.8432034</td>
<td style="text-align: right;">0.7856316</td>
<td style="text-align: right;">1.0116014</td>
<td style="text-align: right;">0.9838729</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr>
</section>
<section id="tabela-9-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-atravéz-do-método-nocb-n-1000" class="level5">
<h5 class="anchored" data-anchor-id="tabela-9-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-atravéz-do-método-nocb-n-1000"><strong>Tabela 9:</strong> Resultados dos cálculos do RMSE com dados faltantes foram substituidos atravéz do método NOCB (n = 1000)</h5>
<p>O comportamento dos resultados do RMSE utilizando o método de imputação NOCB para 1000 observações, representado na Tabela 9, é semelhante ao dos demais métodos no que se refere à reação da métrica ao aumento da porcentagem de dados faltantes. O destaque desse método está na “estabilidade” observada nos valores do RMSE entre os diferentes tipos de ajustes. Diferentemente do observado em outras simulações, especialmente nas realizadas com 100 observações, o método NOCB para <span class="math inline">\(n=1000\)</span> apresentou valores de RMSE muito próximos entre os ajustes. Uma variação mais acentuada foi percebida apenas para 40% de dados faltantes.</p>
<p>Em comparação ao método de imputação pela média, o NOCB apresentou desempenho superior nos modelos AR(1)(<span class="math inline">\(\phi=0.4\)</span>) e ARMA(1,1)(<span class="math inline">\(\phi=0.2 , \theta = 0.4\)</span>), mas foi consideravelmente inferior no modelo AR(2)(<span class="math inline">\(\phi_1=0.4, \phi_2=0.5\)</span>). Já em relação ao método LOCF, o método NOCB apresentou resultados semelhantes no modelo ARMA(1,1)(<span class="math inline">\(\phi=0.2 , \theta = 0.4\)</span>) e ligeiramente melhores no modelo AR(2)(<span class="math inline">\(\phi_1=0.2, \phi_2=0.4\)</span>, porém teve desempenho inferior em todos os outros modelos.</p>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>milinter <span class="ot">&lt;-</span>  <span class="fu">read.csv</span>(<span class="st">"Planilhas/intmil.csv"</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ajustetabela</span>(ceminter,<span class="st">"AR.Rmse.04"</span>,<span class="st">"AR.Rmse.06"</span>,<span class="st">"AR.Rmse.0204"</span>,<span class="st">"AR.Rmse.0405"</span>,<span class="st">"ARMA.Rmse.0402"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 17%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Porcentagem</th>
<th style="text-align: right;">AR_0.4</th>
<th style="text-align: right;">AR_0.6</th>
<th style="text-align: right;">AR_0.2_0.4</th>
<th style="text-align: right;">AR_0.4_0.5</th>
<th style="text-align: right;">ARMA_0.4_0.2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.3387105</td>
<td style="text-align: right;">0.2130691</td>
<td style="text-align: right;">0.2876818</td>
<td style="text-align: right;">0.1881545</td>
<td style="text-align: right;">0.1185403</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.3665967</td>
<td style="text-align: right;">0.3135915</td>
<td style="text-align: right;">0.2649126</td>
<td style="text-align: right;">0.3714423</td>
<td style="text-align: right;">0.4110724</td>
</tr>
<tr class="odd">
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.6342673</td>
<td style="text-align: right;">0.6562248</td>
<td style="text-align: right;">0.5024862</td>
<td style="text-align: right;">0.5985662</td>
<td style="text-align: right;">0.7142722</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.7497217</td>
<td style="text-align: right;">0.9526146</td>
<td style="text-align: right;">1.0898719</td>
<td style="text-align: right;">1.5165599</td>
<td style="text-align: right;">0.8538800</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">difference_dataframes</span>(milmedia,milinter)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">AR.Rmse.04</th>
<th style="text-align: right;">AR.Rmse.06</th>
<th style="text-align: right;">AR.Rmse.0204</th>
<th style="text-align: right;">AR.Rmse.0405</th>
<th style="text-align: right;">ARMA.Rmse.0402</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">-0.0465525</td>
<td style="text-align: right;">0.0350047</td>
<td style="text-align: right;">-0.0494509</td>
<td style="text-align: right;">0.0955054</td>
<td style="text-align: right;">0.0969473</td>
</tr>
<tr class="even">
<td style="text-align: right;">-0.0300896</td>
<td style="text-align: right;">0.0015591</td>
<td style="text-align: right;">-0.0440991</td>
<td style="text-align: right;">0.1139070</td>
<td style="text-align: right;">0.0573771</td>
</tr>
<tr class="odd">
<td style="text-align: right;">-0.1097118</td>
<td style="text-align: right;">-0.0760970</td>
<td style="text-align: right;">-0.0751331</td>
<td style="text-align: right;">-0.4646450</td>
<td style="text-align: right;">-0.0573520</td>
</tr>
<tr class="even">
<td style="text-align: right;">-0.3976319</td>
<td style="text-align: right;">-0.3035535</td>
<td style="text-align: right;">-0.3341047</td>
<td style="text-align: right;">-0.4852885</td>
<td style="text-align: right;">-0.7433302</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">difference_dataframes</span>(mildown,milinter)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">AR.Rmse.04</th>
<th style="text-align: right;">AR.Rmse.06</th>
<th style="text-align: right;">AR.Rmse.0204</th>
<th style="text-align: right;">AR.Rmse.0405</th>
<th style="text-align: right;">ARMA.Rmse.0402</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.0051476</td>
<td style="text-align: right;">0.0738469</td>
<td style="text-align: right;">-0.0903865</td>
<td style="text-align: right;">0.0699234</td>
<td style="text-align: right;">-0.0195329</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.0485499</td>
<td style="text-align: right;">0.0649952</td>
<td style="text-align: right;">-0.0879777</td>
<td style="text-align: right;">-0.0011069</td>
<td style="text-align: right;">0.0406475</td>
</tr>
<tr class="odd">
<td style="text-align: right;">-0.0025637</td>
<td style="text-align: right;">0.0326648</td>
<td style="text-align: right;">-0.1387461</td>
<td style="text-align: right;">-0.5657269</td>
<td style="text-align: right;">-0.0080437</td>
</tr>
<tr class="even">
<td style="text-align: right;">-0.1718717</td>
<td style="text-align: right;">-0.1312007</td>
<td style="text-align: right;">-0.2791899</td>
<td style="text-align: right;">-0.6208526</td>
<td style="text-align: right;">-0.4610068</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">difference_dataframes</span>(milup,milinter)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">AR.Rmse.04</th>
<th style="text-align: right;">AR.Rmse.06</th>
<th style="text-align: right;">AR.Rmse.0204</th>
<th style="text-align: right;">AR.Rmse.0405</th>
<th style="text-align: right;">ARMA.Rmse.0402</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">-0.0061773</td>
<td style="text-align: right;">-0.0118591</td>
<td style="text-align: right;">-0.0505062</td>
<td style="text-align: right;">-0.0402711</td>
<td style="text-align: right;">0.0376715</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.0137904</td>
<td style="text-align: right;">-0.0319455</td>
<td style="text-align: right;">-0.0383053</td>
<td style="text-align: right;">-0.0741020</td>
<td style="text-align: right;">0.0650188</td>
</tr>
<tr class="odd">
<td style="text-align: right;">-0.0164567</td>
<td style="text-align: right;">-0.0321289</td>
<td style="text-align: right;">-0.0779615</td>
<td style="text-align: right;">-0.6200957</td>
<td style="text-align: right;">-0.0101833</td>
</tr>
<tr class="even">
<td style="text-align: right;">-0.1829788</td>
<td style="text-align: right;">-0.2164650</td>
<td style="text-align: right;">-0.2662677</td>
<td style="text-align: right;">-0.7649058</td>
<td style="text-align: right;">-0.5131693</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="tabela-10-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-atravéz-do-método-nocb-n-1000" class="level5">
<h5 class="anchored" data-anchor-id="tabela-10-resultados-dos-cálculos-do-rmse-com-dados-faltantes-foram-substituidos-atravéz-do-método-nocb-n-1000"><strong>Tabela 10:</strong> Resultados dos cálculos do RMSE com dados faltantes foram substituidos atravéz do método NOCB (n = 1000)</h5>
<p>O comportamento do RMSE para o método de imputação por Interpolação Cúbica com 1000 observações seguiu o padrão observado nos outros métodos, confirmando que as considerações sobre o aumento do RMSE conforme cresce a porcentagem de dados faltantes e a complexidade dos modelos permanecem válidas.</p>
<p>Comparado com os demais métodos de imputação para <span class="math inline">\(n=1000\)</span>, a Interpolação Cúbica demonstrou desempenho notavelmente inferior, apresentando RMSE consistentemente maior em todas as proporções de dados faltantes para mais de um modelo, quando comparado com as abordagens de imputação pela média, LOCF e NOCB. O padrão identificado na Tabela 5, que mostrava maior estabilidade nas menores porcentagens de dados faltantes (5% e 10%), também foi observado com <span class="math inline">\(n=1000\)</span>; no entanto, os resultados da Interpolação Cúbica apresentaram variações mesmo nessas condições.</p>
<p>No geral, a Interpolação Cúbica não conseguiu produzir resultados que se aproximassem satisfatoriamente dos modelos originais das séries geradas, podendo indicar limitações na sua aplicabilidade em cenários com grandes volumes de dados e altos níveis de ausência.</p>
</section>
</section>
</section>
<section id="visualização-gráfica-das-imputações" class="level2">
<h2 class="anchored" data-anchor-id="visualização-gráfica-das-imputações">Visualização gráfica das imputações</h2>
<p>Para visualização da imputação dos dados faltantes na série foram gerados gráficos das séries temporais ARMA(1,1)<span class="math inline">\((\phi=0.2, \theta=0,4)\)</span> com 10% de dados faltantes, onde os trechos coloridos representam os dados imputados. Por vias de comparação, o gráfico da simulação sem a retirada dos dados faltantes também foi gerada.</p>
<p><img src="Gráficos/Gráfico%20Original.png" class="img-fluid"></p>
<hr>
<p><img src="Gráficos/GrafMédia%20(seed%2031).png" class="img-fluid"></p>
<hr>
<p><img src="Gráficos/GrafMediana%20(seed%2031).png" class="img-fluid"></p>
<hr>
<p><img src="Gráficos/GrafLOCF%20(seed%2031).png" class="img-fluid"></p>
<hr>
<p><img src="Gráficos/GrafNOCB%20(seed%2031).png" class="img-fluid"></p>
<hr>
<p><img src="Gráficos/GrafInterpolação%20(seed%2031).png" class="img-fluid"></p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiada");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiada");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>